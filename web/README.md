# The Website's Source Code

This directory contains the Astro source code for the website and the rest of
the toolings required to build and maintain the source code. The structure of
the code is as follows:

```console
.
├── public/
│   ├── Poppins.woff
│   ├── favicon.svg
│   └── # ... more such static assets
├── src/
│   ├── components/
│   │   ├── ExampleComponent.astro
│   │   └── # ... more such Astro components
│   ├── content/
│   │   ├── blog/
│   │   │   ├── example-blogpost.md
│   │   │   └── # ... more such blogposts written in Markdown
│   │   └── config.ts
│   ├── layouts/
│   │   ├── BaseLayout.astro
│   │   └── HeadLayout.astro
│   ├── pages/
│   │   ├── blog/
│   │   │   ├── index.astro
│   │   │   └── [slug].astro
│   │   ├── about.astro
│   │   ├── index.astro
│   │   └── # ... more such "pages" written in Astro
│   ├── styles/
│   │   ├── main.css
│   │   └── # ... more such CSS code required to style the website
│   └── end.d.ts
├── tests
├── .eslintignore
├── .eslintrc.json
├── .prettierignore
├── .prettierrc.json
├── README.md
├── astro.config.ts
├── package-lock.json
├── package.json
├── playwright.config.json
└── tsconfig.json
```

Following is a brief description of the contents of the directory:

- `public` is where all the static assets like fonts, CSS stylesheets, SVG
  images, etc are stored. Astro will copy the contents of the directory as-is
  during the build process (see the
  [official docs](https://docs.astro.build/en/core-concepts/project-structure/#public)
  on the topic for more information).

- The `src` directory contains the source code of the website and each of its
  sub-directories have the following purposes;

  - `components` are where the
    [Astro Components](https://docs.astro.build/en/core-concepts/astro-components)
    are located.
  - `content` directory holds all the Markdown files for the blogposts. And
    Astro expects the directory name to be as such for automatic content
    generation and types generation. The
    [official docs](https://docs.astro.build/en/core-concepts/project-structure/#srccontent)
    has more information on the topic for better understanding.
  - `layouts` directory is where the common "_layout components_" are located to
    be used across all the pages of the website.
  - `pages` directory is where Astro will look to generate the webpages by
    utilising its file-based routing capabilities. Its _recommended_ to refer to
    [the documentations](https://docs.astro.build/en/core-concepts/astro-pages)
    on the topic for more in-depth explanation.
  - `styles` directory contains some global CSS code to be used throughout the
    website. Astro has incredible support for scoped CSS so this directory is
    optional in most cases!
  - The `env.d.ts` file is for the TypeScript compiler to understand the Astro
    code for further transpilation. No need to manually update this file as it
    is autogenerated by Astro.

- At the "root" of the `web` directory besides the ones mentioned above are
  mostly configuration files, task runners and for tests. These files/folders
  have the following purposes;
  - `tests` is the directory where [Playwright](https://playwright.dev) will
    look for the end-to-end files with the instructions to run tests on the
    website.
  - The `.eslintignore`, `.prettierignore`, `.eslintrc.json` &
    `.prettierrc.json` files are for configuring [ESLint](https://eslint.org)
    and [Prettier](https://prettier.io). These tools are responsible for linting
    and the formatting the source code to ensure a standard format of authoring
    code is followed.
  - The `README.md` file is meant for documentations and the one you're
    currently reading.
  - The `package.json` and `package-lock.json` files are for configuring `npm`
    and keeping track of the dependency list.
  - The `astro.config.ts`, `playwright.config.json` and `tsconfig.json` files
    are for configuring [Astro](https://astro.build),
    [Playwright](https://playwright.dev) and
    [TypeScript](https://www.typescriptlang.com) respectively.

For the well experienced devs out there the aforementioned project structure
might be a familiar sight and nothing out of standard procedures. But for the
uninitiated, if you find something confusing don't hesitate to open a discussion
thread or even better read the official documentations for the respective tools.

## Usage Guidelines

To get started with the project, this section of the document states the exact
instructions you'll need to follow to build and preview the website. Do note,
most of the following commands are abstracted away in a task runner for ease of
usage and uniformity. You'll find the list of all the tasks in the
[`Taskfile.yml`](../Taskfile.yml).

That said, here are the commands you'll need to run sequentially to build and
preview the website;

1. Install the dependencies by running;

```console
npm ci
```

2. With the dependencies installed and prepared, invoke the following command to
   run a dev version of the website;

```console
npm run dev
```

3. The development version of the website will accessible on
   [http://localhost:4321](http://localhost:4321). Change the source code as per
   your requirements and Astro will perform a live-reload of the website.

4. Post development you should run a preview of the production version of the
   website for a sanity check by running;

```console
npm run build && npm run preview
```

5. When everything in the production version of the website is correct, prepare
   the source to be pushed to the remote repository by running;

```console
npm run lint && npm run format:fix
```

6. If there are no linting/formatting concerns, push the latest changes to the
   remote repository for preparing your Pull Request! For more information on
   creating a good Pull Request, please read the
   [contributing guidelines](../.github/CONTRIBUTING.md) carefully.

If during the usage procedure if you're facing trouble anywhere in the workflow,
please create an issue/discussion thread with a full comprehensive detail of the
issue you're facing. Do note, please do your due research both on a customary
Google Search and on the issue threads to ensure your concerns hasn't already
been resolved by someone in the past.

## Why Astro Instead of Next.js or Any Other Framework for That Matter?

For the unaware, I've rebuilt my personal website countless times! It started
out with [Gatsby](https://www.gatsbyjs.com) and then
[Pelican](https://getpelican.com), then [Hugo](https://gohugo.io) & finally
[Next.js](https://nextjs.org) which I stuck with for the longest time!

My gripes with each of the aforementioned tools were as follows:

1. Complexity of usage due to limitations introduced by
   [React.js](https://react.dev)'s SPA caveats.
2. Unnecessary bloated list of dependencies for every simple tasks!
3. Requirement of learning the "_tool's way of doing things_" like requiring
   prior knowledge of [Go Templates](https://pkg.go.dev/html/template) or JSX.
4. Lack of modern web technologies without going through some hoops & hacks!

Astro on the other hand, introduces very little opinion on how to write code for
the website. And the opinion Astro imposes are also very subtle in a manner that
prior HTML, CSS and JS skills are transferable to the project. The other major
plus of using Astro was its inbuilt support for Markdown (and MDX through an
official dependency)!

All-in-all, Astro felt like a legitimate "\_Static Site Generator (SSG)"
purposefully built for technical documentation on the web! If you're still
unsure whether Astro is a good choice for building blogging websites, go check
out their [official documentations](https://docs.astro.build) & complete the
tutorial to make an opinion of your own.
